openapi: 3.0.1
info:
  title: Classic Daramg's API docs
  description: 클래식 듣는 다람쥐의 API 문서입니다.
  version: 0.1.0
servers:
- url: http://localhost:8080
tags: []
paths:
  /auth/email-verifications:
    post:
      tags:
      - Auth API
      summary: 비밀번호 초기화 시 인증코드 이메일 발송
      description: 비밀번호 초기화를 위해 이메일 주소로 인증코드를 발송합니다.
      operationId: 비밀번호_초기화를_위한_인증코드_메일_발송회원가입을_위한_인증코드_메일_발송
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/auth-email-verifications1086464701"
            examples:
              비밀번호_초기화를_위한_인증코드_메일_발송:
                value: "{\"email\":\"daramg123@gmail.com\",\"emailPurpose\":\"PASSWORD_RESET\"\
                  }"
              회원가입을_위한_인증코드_메일_발송:
                value: "{\"email\":\"daramg123@gmail.com\",\"emailPurpose\":\"SIGNUP\"\
                  }"
      responses:
        "200":
          description: "200"
  /auth/login:
    post:
      tags:
      - Auth API
      summary: 로그인
      description: 유저가 로그인합니다.
      operationId: 로그인
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/auth-login684347283"
            examples:
              로그인:
                value: "{\"email\":\"hamster@gmail.com\",\"password\":\"Hoshi0615!\"\
                  }"
      responses:
        "200":
          description: "200"
  /auth/logout:
    delete:
      tags:
      - Auth API
      summary: 로그아웃
      description: 사용자를 로그아웃하고 인증 쿠키를 삭제합니다.
      operationId: 로그아웃
      responses:
        "200":
          description: "200"
  /auth/password-reset:
    put:
      tags:
      - Auth API
      summary: 비밀번호를 잊었을 경우 비밀번호 재설정
      description: 사용자의 비밀번호를 새로운 비밀번호로 변경하고 자동으로 로그아웃 처리합니다.
      operationId: 비밀번호_재설정
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/auth-password-reset-1301565020"
            examples:
              비밀번호_재설정:
                value: "{\"email\":\"svt@pledis.com\",\"password\":\"NewPassword123!\"\
                  }"
      responses:
        "200":
          description: "200"
  /auth/refresh:
    post:
      tags:
      - Auth API
      summary: 토큰 갱신
      description: 액세시 토큰 만료 시 리프레시 토큰을 사용하여 새로운 액세스 토큰을 발급받습니다.
      operationId: 토큰_갱신
      responses:
        "200":
          description: "200"
  /auth/signup:
    post:
      tags:
      - Auth API
      summary: 회원가입
      description: 새로운 유저를 생성합니다.
      operationId: 회원가입
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/auth-signup-225747861"
            examples:
              회원가입:
                value: "{\"name\":\"권순영\",\"birthdate\":\"1996-06-15\",\"email\":\"\
                  hamster@gmail.com\",\"password\":\"Password123!\",\"profileImage\"\
                  :\"https://example.com/profile.jpg\",\"nickname\":\"햄쥑이\",\"bio\"\
                  :\"나라 지키는 중\"}"
      responses:
        "201":
          description: "201"
  /auth/verify-email:
    post:
      tags:
      - Auth API
      summary: 인증번호로 이메일 인증
      description: 사용자가 제공한 인증번호로 이메일 주소를 인증합니다.
      operationId: 인증번호로_이메일_인증
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/auth-verify-email-1072797477"
            examples:
              인증번호로_이메일_인증:
                value: "{\"email\":\"daramg123@gmail.com\",\"verificationCode\":\"\
                  123456\"}"
      responses:
        "200":
          description: "200"
  /comments/{commentId}:
    delete:
      tags:
      - Comment API
      summary: 댓글 삭제
      description: 사용자가 자신의 댓글을 삭제합니다.
      operationId: comment-controller-test/댓글을_삭제한다
      parameters:
      - name: commentId
        in: path
        description: 삭제할 댓글의 아이디
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "204"
  /comments/{commentId}/like:
    post:
      tags:
      - Comment API
      summary: 댓글 좋아요 토글
      description: 사용자가 댓글의 좋아요 상태를 토글합니다.
      operationId: comment-controller-test/댓글_좋아요를_토글한다
      parameters:
      - name: commentId
        in: path
        description: 대상 댓글의 아이디
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/posts-postId-like-462227428"
              examples:
                comment-controller-test/댓글_좋아요를_토글한다:
                  value: |-
                    {
                      "isLiked" : true,
                      "likeCount" : 7
                    }
  /comments/{parentCommentId}/replies:
    post:
      tags:
      - Comment API
      summary: 대댓글 생성
      description: 사용자가 댓글에 대댓글을 생성합니다.
      operationId: comment-controller-test/대댓글을_생성한다
      parameters:
      - name: parentCommentId
        in: path
        description: 대댓글을 달 부모 댓글의 아이디
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/comments-parentCommentId-replies-1993905827"
            examples:
              comment-controller-test/대댓글을_생성한다:
                value: |-
                  {
                    "content" : "대댓글 내용입니다람쥐"
                  }
      responses:
        "201":
          description: "201"
  /posts/curation:
    post:
      tags:
      - Post API
      summary: 큐레이션 포스트 생성
      description: 사용자가 큐레이션 포스트를 생성합니다.
      operationId: post-controller-test/큐레이션_포스트를_생성한다
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-curation-745665617"
            examples:
              post-controller-test/큐레이션_포스트를_생성한다:
                value: |-
                  {
                    "title" : "큐레이션 포스트 제목",
                    "content" : "큐레이션 포스트 내용입니다람쥐",
                    "postStatus" : "DRAFT",
                    "images" : [ "image url 1", "image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=mBXBOLG06Wc&list=RDmBXBOLG06Wc&start_radio=1",
                    "hashtags" : [ "#classical", "#beethoven", "#music" ],
                    "primaryComposerId" : 1,
                    "additionalComposerIds" : [ 2, 3 ]
                  }
      responses:
        "201":
          description: "201"
  /posts/free:
    post:
      tags:
      - Post API
      summary: 자유 포스트 생성
      description: 사용자가 자유 포스트를 생성합니다.
      operationId: post-controller-test/자유_포스트를_생성한다
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-free-433540487"
            examples:
              post-controller-test/자유_포스트를_생성한다:
                value: |-
                  {
                    "title" : "포스트 제목",
                    "content" : "포스트 내용입니다람쥐",
                    "postStatus" : "PUBLISHED",
                    "images" : [ "image url 1", "image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=mBXBOLG06Wc&list=RDmBXBOLG06Wc&start_radio=1",
                    "hashtags" : [ "#seventeen", "#bss", "#fighting" ]
                  }
      responses:
        "201":
          description: "201"
  /posts/story:
    post:
      tags:
      - Post API
      summary: 스토리 포스트 생성
      description: 사용자가 스토리 포스트를 생성합니다.
      operationId: post-controller-test/스토리_포스트를_생성한다
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-story1894247877"
            examples:
              post-controller-test/스토리_포스트를_생성한다:
                value: |-
                  {
                    "title" : "스토리 포스트 제목",
                    "content" : "스토리 포스트 내용입니다람쥐",
                    "postStatus" : "PUBLISHED",
                    "images" : [ "image url 1", "image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=mBXBOLG06Wc&list=RDmBXBOLG06Wc&start_radio=1",
                    "hashtags" : [ "#romantic", "#chopin", "#piano" ],
                    "primaryComposerId" : 1
                  }
      responses:
        "201":
          description: "201"
  /posts/{postId}:
    delete:
      tags:
      - Post API
      summary: 포스트 삭제
      description: 사용자가 포스트를 삭제합니다.
      operationId: post-controller-test/포스트를_삭제한다
      parameters:
      - name: postId
        in: path
        description: 삭제할 포스트의 아이디
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "204"
  /posts/curation/{postId}:
    patch:
      tags:
      - Post API
      summary: 큐레이션 포스트 업데이트
      description: 사용자가 큐레이션 포스트를 수정합니다.
      operationId: post-controller-test/큐레이션_포스트를_업데이트한다
      parameters:
      - name: postId
        in: path
        description: 수정할 포스트의 아이디
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-curation-postId-1538462666"
            examples:
              post-controller-test/큐레이션_포스트를_업데이트한다:
                value: |-
                  {
                    "title" : "수정된 큐레이션 포스트 제목",
                    "content" : "수정된 큐레이션 포스트 내용입니다람쥐",
                    "postStatus" : "PUBLISHED",
                    "images" : [ "updated image url 1", "updated image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=updated",
                    "hashtags" : [ "#updated", "#curation", "#classical" ],
                    "additionalComposersId" : [ 1, 2, 3 ]
                  }
      responses:
        "200":
          description: "200"
  /posts/free/{postId}:
    patch:
      tags:
      - Post API
      summary: 자유 포스트 업데이트
      description: 사용자가 자유 포스트를 수정합니다.
      operationId: post-controller-test/자유_포스트를_수정한다
      parameters:
      - name: postId
        in: path
        description: 수정할 포스트의 아이디
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-story-postId-1095836013"
            examples:
              post-controller-test/자유_포스트를_수정한다:
                value: |-
                  {
                    "title" : "수정된 포스트 제목",
                    "content" : "수정된 포스트 내용입니다람쥐",
                    "postStatus" : "PUBLISHED",
                    "images" : [ "updated image url 1", "updated image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=updated",
                    "hashtags" : [ "#updated", "#seventeen", "#bss" ]
                  }
      responses:
        "200":
          description: "200"
  /posts/story/{postId}:
    patch:
      tags:
      - Post API
      summary: 스토리 포스트 업데이트
      description: 사용자가 스토리 포스트를 수정합니다.
      operationId: post-controller-test/스토리_포스트를_업데이트한다
      parameters:
      - name: postId
        in: path
        description: 수정할 포스트의 아이디
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-story-postId-1095836013"
            examples:
              post-controller-test/스토리_포스트를_업데이트한다:
                value: |-
                  {
                    "title" : "수정된 스토리 포스트 제목",
                    "content" : "수정된 스토리 포스트 내용입니다람쥐",
                    "postStatus" : "PUBLISHED",
                    "images" : [ "updated image url 1", "updated image url 2" ],
                    "videoUrl" : "https://www.youtube.com/watch?v=updated",
                    "hashtags" : [ "#updated", "#story", "#chopin" ]
                  }
      responses:
        "200":
          description: "200"
  /posts/{postId}/comments:
    post:
      tags:
      - Comment API
      summary: 댓글 생성
      description: 사용자가 포스트에 댓글을 생성합니다.
      operationId: comment-controller-test/댓글을_생성한다
      parameters:
      - name: postId
        in: path
        description: 댓글을 달 포스트의 아이디
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/posts-postId-comments-179597731"
            examples:
              comment-controller-test/댓글을_생성한다:
                value: |-
                  {
                    "content" : "댓글 내용입니다람쥐"
                  }
      responses:
        "201":
          description: "201"
  /posts/{postId}/like:
    post:
      tags:
      - Post API
      summary: 포스트 좋아요 토글
      description: 유저가 포스트의 좋아요 상태를 토글합니다.
      operationId: post-controller-test/포스트_좋아요를_토글한다
      parameters:
      - name: postId
        in: path
        description: 대상 포스트의 아이디
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/posts-postId-like-462227428"
              examples:
                post-controller-test/포스트_좋아요를_토글한다:
                  value: |-
                    {
                      "isLiked" : true,
                      "likeCount" : 10
                    }
  /posts/{postId}/scrap:
    post:
      tags:
      - Post API
      summary: 포스트 스크랩 토글
      description: 사용자가 포스트의 스크랩 상태를 토글합니다.
      operationId: post-controller-test/포스트_스크랩을_토글한다
      parameters:
      - name: postId
        in: path
        description: 대상 포스트의 아이디
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/posts-postId-scrap-180788132"
              examples:
                post-controller-test/포스트_스크랩을_토글한다:
                  value: |-
                    {
                      "isScrapped" : true
                    }
  /users/check-nickname:
    get:
      tags:
      - User API
      summary: 닉네임 중복 확인
      description: 사용자가 입력한 닉네임의 중복 여부를 확인합니다.
      operationId: user-controller-test/닉네임_중복_확인_사용가능
      parameters:
      - name: nickname
        in: query
        description: 중복 확인할 닉네임
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/users-check-nickname972730229"
              examples:
                user-controller-test/닉네임_중복_확인_사용가능:
                  value: |-
                    {
                      "닉네임 사용 가능 유무: " : true
                    }
  /users/following/{followedId}:
    post:
      tags:
      - User API
      summary: 유저 팔로우
      description: 특정 유저를 팔로우합니다.
      operationId: user-controller-test/유저를_팔로우한다
      parameters:
      - name: followedId
        in: path
        description: 팔로우할 유저의 ID
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
  /users/unfollowing/{followedId}:
    delete:
      tags:
      - User API
      summary: 유저 언팔로우
      description: 특정 유저를 언팔로우합니다.
      operationId: user-controller-test/유저를_언팔로우한다
      parameters:
      - name: followedId
        in: path
        description: 언팔로우할 유저의 ID
        required: true
        schema:
          type: string
      responses:
        "204":
          description: "204"
components:
  schemas:
    auth-signup-225747861:
      type: object
      properties:
        password:
          type: string
          description: "비밀번호 (영어 대/소문자, 숫자, 특수문자 포함 10자 이상)"
        birthdate:
          type: string
          description: 생년월일 (YYYY-MM-DD)
        nickname:
          type: string
          description: 닉네임 (2~8자)
        name:
          type: string
          description: 이름
        bio:
          type: string
          description: bio (12자 이하)
        profileImage:
          type: string
          description: 프로필 이미지 URL
        email:
          type: string
          description: 이메일
    posts-curation-745665617:
      type: object
      properties:
        additionalComposerIds:
          type: array
          description: 추가 작곡가 아이디 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        images:
          type: array
          description: 포스트에 넣을 이미지 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        primaryComposerId:
          type: number
          description: 주요 작곡가 아이디
        hashtags:
          type: array
          description: 포스트에 넣을 해시태그 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        videoUrl:
          type: string
          description: 포스트에 넣을 비디오 url
        postStatus:
          type: string
          description: "포스트의 게시 상태(PUBLISHED, DRAFT)"
        title:
          type: string
          description: 포스트의 제목(15자 이내)
        content:
          type: string
          description: 포스트의 내용(5자 이상 3000자 이하)
    posts-story1894247877:
      type: object
      properties:
        images:
          type: array
          description: 포스트에 넣을 이미지 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        primaryComposerId:
          type: number
          description: 주요 작곡가 아이디
        hashtags:
          type: array
          description: 포스트에 넣을 해시태그 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        videoUrl:
          type: string
          description: 포스트에 넣을 비디오 url
        postStatus:
          type: string
          description: "포스트의 게시 상태(PUBLISHED, DRAFT)"
        title:
          type: string
          description: 포스트의 제목(15자 이내)
        content:
          type: string
          description: 포스트의 내용(5자 이상 3000자 이하)
    posts-postId-scrap-180788132:
      type: object
      properties:
        isScrapped:
          type: boolean
          description: 현재 스크랩 여부
    posts-postId-like-462227428:
      type: object
      properties:
        isLiked:
          type: boolean
          description: 현재 좋아요 여부
        likeCount:
          type: number
          description: 총 좋아요 수
    users-check-nickname972730229:
      type: object
      properties:
        '닉네임 사용 가능 유무: ':
          type: boolean
          description: "닉네임 사용 가능 여부 (true: 사용 가능, false: 사용 불가능)"
    auth-password-reset-1301565020:
      type: object
      properties:
        password:
          type: string
          description: "새 비밀번호 (영어 대/소문자, 숫자, 특수문자 포함 10자 이상)"
        email:
          type: string
          description: 변경하고자 하는 유저의 이메일
    posts-free-433540487:
      type: object
      properties:
        images:
          type: array
          description: 포스트에 넣을 이미지 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        hashtags:
          type: array
          description: 포스트에 넣을 해시태그 리스트
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        videoUrl:
          type: string
          description: 포스트에 넣을 비디오 url
        postStatus:
          type: string
          description: "포스트의 게시 상태(PUBLISHED, DRAFT)"
        title:
          type: string
          description: 포스트의 제목(15자 이내)
        content:
          type: string
          description: 포스트의 내용(5자 이상 3000자 이하)
    auth-verify-email-1072797477:
      type: object
      properties:
        email:
          type: string
          description: 이메일
        verificationCode:
          type: string
          description: "인증번호: 6자리 숫자"
    posts-postId-comments-179597731:
      type: object
      properties:
        content:
          type: string
          description: 댓글 내용(최대 500자)
    auth-login684347283:
      type: object
      properties:
        password:
          type: string
          description: "비밀번호 (영어 대/소문자, 숫자, 특수문자 포함 10자 이상)"
        email:
          type: string
          description: 이메일
    comments-parentCommentId-replies-1993905827:
      type: object
      properties:
        content:
          type: string
          description: 대댓글 내용(최대 500자)
    posts-curation-postId-1538462666:
      type: object
      properties:
        images:
          type: array
          description: 포스트에 넣을 이미지 리스트(삭제 시 빈 리스트)
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        additionalComposersId:
          type: array
          description: 추가 작곡가 ID 리스트(삭제 시 빈 리스트)
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        hashtags:
          type: array
          description: 포스트에 넣을 해시태그 리스트(삭제 시 빈 리스트)
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        videoUrl:
          type: string
          description: 포스트에 넣을 비디오 url(삭제 시 빈 문자열)
        postStatus:
          type: string
          description: "포스트의 게시 상태(PUBLISHED, DRAFT)"
        title:
          type: string
          description: 포스트의 제목(15자 이내)
        content:
          type: string
          description: 포스트의 내용(5자 이상 3000자 이하)
    posts-story-postId-1095836013:
      type: object
      properties:
        images:
          type: array
          description: 포스트에 넣을 이미지 리스트(삭제 시 빈 리스트)
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        hashtags:
          type: array
          description: 포스트에 넣을 해시태그 리스트(삭제 시 빈 리스트)
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        videoUrl:
          type: string
          description: 포스트에 넣을 비디오 url(삭제 시 빈 문자열)
        postStatus:
          type: string
          description: "포스트의 게시 상태(PUBLISHED, DRAFT)"
        title:
          type: string
          description: 포스트의 제목(15자 이내)
        content:
          type: string
          description: 포스트의 내용(5자 이상 3000자 이하)
    auth-email-verifications1086464701:
      type: object
      properties:
        emailPurpose:
          type: string
          description: "이메일 인증코드 전송 목적(SIGNUP, PASSWORD_RESET)"
        email:
          type: string
          description: 이메일
